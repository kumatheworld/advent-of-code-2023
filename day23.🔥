from math import max

alias di = StaticIntTuple[4](0, 1, 0, -1)
alias dj = StaticIntTuple[4](1, 0, -1, 0)


@value
struct M4p(CollectionElement):
    var width: Int
    var height: Int
    var ij: StaticIntTuple[2]
    var steps: Int
    var m4p: DynamicVector[Int]

    fn __init__(inout self, s: String) -> NoneType:
        var width: Int
        for i in range(len(s)):
            if s[i] == "\n":
                width = i
                break
        else:
            width = -1  # Should never happen

        self.width = width
        self.height = len(s) // (width + 1)

        self.ij = StaticIntTuple[2](0, 1)
        self.steps = 0

        var m4p = DynamicVector[Int](width * self.height)
        for i in range(len(s)):
            if (i + 1) % (width + 1) == 0:
                continue
            m4p.append(ord(s[i]))
        m4p[1] = ord("#")
        self.m4p = m4p ^

    fn __getitem__(self, idx: StaticIntTuple[2]) -> Int:
        let i = idx[0]
        let j = idx[1]
        if 0 <= i < self.height and 0 <= j < self.width:
            return self.m4p[self.width * i + j]
        return ord("#")

    fn step(inout self, d: Int) -> NoneType:
        let i = self.ij[0] + di[d]
        let j = self.ij[1] + dj[d]
        self.m4p[self.width * i + j] = ord("#")
        self.ij = StaticIntTuple[2](i, j)
        self.steps += 1

    fn end(self) -> Bool:
        return self.ij == StaticIntTuple[2](self.height - 1, self.width - 2)


fn solve(s: String) -> Int:
    var m4p = M4p(s)
    var stack = DynamicVector[M4p]()
    var steps = 0
    while True:
        if m4p.end():
            steps = max(steps, m4p.steps)

        var ds = DynamicVector[Int]()
        for d in range(4):
            let ijd = StaticIntTuple[2](m4p.ij[0] + di[d], m4p.ij[1] + dj[d])
            if (
                m4p[ijd] == ord(".")
                or (m4p[ijd] == ord(">") and dj[d] == 1)
                or (m4p[ijd] == ord("v") and di[d] == 1)
            ):
                ds.append(d)

        if len(ds):
            for dd in range(1, len(ds)):
                var m4p_new = m4p
                m4p_new.step(ds[dd])
                stack.push_back(m4p_new)
            m4p.step(ds[0])
        else:  # The m4p.end() case will fall here as well
            if len(stack) == 0:
                break
            m4p = stack.pop_back()

    return steps


fn main():
    print(solve(example))
    print(solve(text))


alias example = """#.#####################
#.......#########...###
#######.#########.#.###
###.....#.>.>.###.#.###
###v#####.#v#.###.#.###
###.>...#.#.#.....#...#
###v###.#.#.#########.#
###...#.#.#.......#...#
#####.#.#.#######.#.###
#.....#.#.#.......#...#
#.#####.#.#.#########v#
#.#...#...#...###...>.#
#.#.#v#######v###.###v#
#...#.>.#...>.>.#.###.#
#####v#.#.###v#.#.###.#
#.....#...#...#.#.#...#
#.#########.###.#.#.###
#...###...#...#...#.###
###.###.#.###v#####v###
#...#...#.#.>.>.#.>.###
#.###.###.#.###.#.#v###
#.....###...###...#...#
#####################.#
"""

alias text = """#.###########################################################################################################################################
#.###.......#...#...#.....###...#...............###...#####...#...#...#...#...#.....#...#.........#.........#...........#...###...#.........#
#.###.#####.#.#.#.#.#.###.###.#.#.#############.###.#.#####.#.#.#.#.#.#.#.#.#.#.###.#.#.#.#######.#.#######.#.#########.#.#.###.#.#.#######.#
#...#.....#...#.#.#.#...#...#.#.#.......#.......#...#...###.#.#.#.#.#.#.#.#.#...#...#.#.#.......#.#.#.......#.........#.#.#.###.#.#.#.......#
###.#####.#####.#.#.###.###.#.#.#######.#.#######.#####.###.#.#.#.#.#.#.#.#.#####.###.#.#######.#.#.#.###############.#.#.#.###.#.#.#.#######
#...#.....#...#...#...#...#.#.#.#...###.#.....###.#.....#...#.#.#.#.#.#.#.#.#.....###.#.#.......#.#.#.....###.........#.#.#.....#.#.#.#...###
#.###.#####.#.#######.###.#.#.#.#.#.###.#####.###.#.#####.###.#.#.#.#.#.#.#.#.#######.#.#.#######.#.#####.###.#########.#.#######.#.#.#.#.###
#...#.#.....#.........#...#...#...#.>.>.#.....#...#.#...#.#...#.#...#.#.#.#.#.....#...#.#.......#.#.#.....#...#.....#...#.......#...#...#...#
###.#.#.###############.#############v###.#####.###.#.#.#.#.###.#####.#.#.#.#####.#.###.#######.#.#.#.#####.###.###.#.#########.###########.#
###...#...........#...#...........###...#...###...#.#.#.#.#.###.#.....#.#...#.....#...#.#...###.#.#.#.#...#.....#...#.#...#...#.#...........#
#################.#.#.###########.#####.###.#####.#.#.#.#.#.###.#.#####.#####.#######.#.#.#.###.#.#.#.#.#.#######.###.#.#.#.#.#.#.###########
#.................#.#.#...#.......#.....###.#...#.#...#...#.>.>.#.....#.#...#.#...#...#.#.#.#...#.#.#.#.#.#...###...#.#.#.#.#.#.#.......#####
#.#################.#.#.#.#.#######.#######.#.#.#.###########v#######.#.#.#.#.#.#.#.###.#.#.#.###.#.#.#.#.#.#.#####.#.#.#.#.#.#.#######.#####
#.................#.#.#.#.#.......#.#...###...#.#...#.........###.....#.#.#...#.#.#...#.#.#.#...#.#.#.#.#.#.#.#.>.>.#...#.#.#.#.#.....#.....#
#################.#.#.#.#.#######.#.#.#.#######.###.#.###########.#####.#.#####.#.###.#.#.#.###.#.#.#.#.#.#.#.#.#v#######.#.#.#.#.###.#####.#
#.................#.#.#.#.#...#...#...#.......#...#.#...........#...#...#...#...#.###.#.#.#.#...#.#.#.#.#...#...#.......#...#...#...#.#.....#
#.#################.#.#.#.#.#.#.#############.###.#.###########.###.#.#####.#.###.###.#.#.#.#.###.#.#.#.###############.###########.#.#.#####
#...#.......#...###.#.#.#.#.#...#.............###.#...#.......#...#.#.#.....#...#.#...#.#.#.#.###...#.#.#.....###.....#...#.....###.#...#####
###.#.#####.#.#v###.#.#.#.#.#####.###############.###.#.#####.###.#.#.#.#######.#.#.###.#.#.#.#######.#.#.###.###.###.###.#.###.###.#########
###...#...#...#.>.#.#.#.#.#.#...#.............###.....#.#...#.....#...#.#.>.>...#.#...#...#.#.....#...#.#...#...#...#.#...#...#.#...###...###
#######.#.#####v#.#.#.#.#.#.#.#.#############.#########.#.#.###########.#.#v#####.###.#####.#####.#.###.###.###.###.#.#.#####.#.#.#####.#.###
#.......#.......#...#.#.#...#.#.....#...#...#.....###...#.#...........#.#.#.....#...#.#...#.#...#.#.#...###...#.....#...#.....#...#.....#...#
#.###################.#.#####.#####.#.#.#.#.#####.###.###.###########.#.#.#####.###.#.#.#.#.#.#.#.#.#.#######.###########.#########.#######.#
#.#.....#...........#...#...#.....#.#.#.#.#.#...#...#.....#.........#.#...#.....###...#.#.#...#...#...###...#.......#...#...........#...#...#
#.#.###.#.#########.#####.#.#####.#.#.#.#.#.#.#.###.#######.#######.#.#####.###########.#.###############.#.#######.#.#.#############.#.#.###
#.#.#...#.#...#.....#.....#.......#...#...#...#.....#...###.......#.#.....#...###.......#...#...#...#...#.#.........#.#.#...#.....#...#...###
#.#.#.###.#.#.#.#####.###############################.#.#########.#.#####.###.###.#########.#.#.#.#.#.#.#.###########.#.#.#.#.###.#.#########
#...#.....#.#.#.....#.#...........................#...#...#...#...#.......###...#.......#...#.#.#.#.#.#.#.....#.....#.#...#.#.#...#.........#
###########.#.#####.#.#.#########################.#.#####.#.#.#.###############.#######.#.###.#.#.#.#.#.#####.#.###.#.#####.#.#.###########.#
#.......#...#.....#.#...#...........#...#...#.....#.....#...#.#.......#...#...#...#...#.#.###.#.#.#.#.#.#...#.#...#.#...#...#.#.#...#...#...#
#.#####.#.#######.#.#####.#########.#.#.#.#.#.#########.#####.#######.#.#.#.#.###.#.#.#.#.###.#.#.#.#.#.#.#.#v###.#.###.#.###.#.#.#.#v#.#.###
#.....#.#.......#...#...#.........#.#.#.#.#...###.......#...#.........#.#.#.#.....#.#...#...#.#.#.#...#.#.#.>.>...#.#...#.#...#.#.#.>.#...###
#####.#.#######.#####.#.#########.#.#.#.#.#######.#######.#.###########.#.#.#######.#######.#.#.#.#####.#.###v#####.#.###.#.###.#.###v#######
#...#.#.........#...#.#.#...#.....#.#.#.#...#...#.......#.#...#...#...#.#...#...###.....#...#.#.#.#.....#.#...#...#.#...#...#...#.#...###...#
#.#.#.###########.#.#.#.#.#.#.#####.#.#.###.#.#.#######.#.###.#.#.#.#.#.#####.#.#######.#.###.#.#.#.#####.#.###.#.#.###.#####.###.#.#####.#.#
#.#...#...#...###.#.#.#.#.#.#.....#...#.....#.#.#.....#...###...#.#.#.#.......#.#.....#.#.....#...#.......#.....#.#.#...#.....#...#...###.#.#
#.#####.#v#.#.###.#.#.#.#.#.#####.###########.#.#.###.###########.#.#.#########.#.###.#.#########################.#.#.###.#####.#####.###.#.#
#.#...#.#.>.#...#.#.#.#.#.#.#.....#...#...###.#.#...#.###...#...#...#.#...#...#.#...#.#.........#.......###...#...#.#...#.#...#.....#.....#.#
#.#.#.#.#v#####.#.#.#.#.#.#.#v#####.#.#.#.###.#.###.#.###.#.#.#.#####.#.#.#.#.#v###.#.#########.#.#####.###.#.#.###.###.#.#.#.#####.#######.#
#...#...#.....#...#.#.#.#.#.>.>.#...#.#.#...#.#...#.#.#...#.#.#.#.....#.#...#.>.>.#.#...#.......#.....#.#...#.#...#.#...#...#.......#.......#
#############.#####.#.#.#.###v#.#.###.#.###.#.###.#.#.#.###.#.#.#.#####.#######v#.#.###.#.###########.#.#.###.###.#.#.###############.#######
#.............#...#.#.#.#.###.#.#.#...#.#...#.#...#.#.#...#.#.#.#.#...#...#.....#...###.#.....#.......#.#...#.#...#.#.#.............#...#...#
#.#############.#.#.#.#.#.###.#.#.#.###.#.###.#.###.#.###.#.#.#.#v#.#.###.#.###########.#####.#.#######.###.#.#.###.#.#.###########.###.#.#.#
#...#...#...###.#.#...#.#.#...#...#.#...#.....#.#...#.#...#.#.#.>.>.#.....#...#...#...#.......#...#...#.#...#.#...#.#.#.#.....#...#.....#.#.#
###.#.#.#.#.###.#.#####.#.#.#######.#.#########.#.###.#.###.#.###v###########.#.#.#.#.###########.#.#.#.#.###.###.#.#.#.#.###.#.#.#######.#.#
###...#...#...#.#.###...#.#.#.....#...#.....#...#...#...###...###.....#.....#...#...#.....#...#...#.#.#...###.....#...#...###...#...#.....#.#
#############.#.#.###.###.#.#.###.#####.###.#.#####.#################.#.###.#############.#.#.#.###.#.#############################.#.#####.#
#.............#.#...#.....#.#.#...#...#...#.#.......###...#...#...#...#...#.#.............#.#...#...#.................#.............#.#.....#
#.#############.###.#######.#.#.###.#.###.#.###########.#.#.#.#.#.#.#####.#.#.#############.#####.###################.#.#############.#.#####
#...........#...###.....###...#...#.#.#...#...###...#...#.#.#...#...#.....#.#.............#.#...#.#...........#...#...#.....#...#.....#.....#
###########.#.#########.#########.#.#.#.#####.###.#.#.###.#.#########.#####.#############.#.#.#.#.#.#########.#.#.#.#######.#.#.#.#########.#
#...........#.#.........#...#...#...#...#.....#...#...#...#.........#.....#...............#...#...#.........#...#...#...###...#...#.........#
#.###########.#.#########.#.#.#.#########v#####.#######.###########.#####.#################################.#########.#.###########.#########
#...#.........#.........#.#.#.#.#.......>.>...#...#.....#.....#...#...#...#...................#...###.....#.#...#...#.#.#...#.....#.#.......#
###.#.#################.#.#.#.#.#.#######v###.###.#.#####v###.#.#.###.#.###.#################.#.#.###.###.#.#.#.#.#.#.#.#.#.#.###.#.#.#####.#
###...#...#...#...#...#.#.#...#.#.#.....#.###...#.#.#...>.>.#...#.....#...#.#.....#...........#.#.#...###...#.#.#.#.#.#.#.#.#...#.#...#.....#
#######.#.#.#.#.#.#.#.#.#.#####.#.#.###.#.#####.#.#.#.###v#.#############.#.#.###.#.###########.#.#.#########.#.#.#.#.#.#.#.###.#.#####.#####
#...#...#...#...#...#...#.....#...#...#.#.#.....#.#.#.#...#.#.....#.....#...#...#.#.....#...###.#.#.........#.#.#.#.#.#.#.#.#...#...#...#...#
#.#.#.#######################.#######.#.#.#.#####.#.#.#.###.#.###.#.###.#######.#.#####.#.#.###.#.#########.#.#.#.#.#.#.#.#.#.#####.#.###.#.#
#.#...#...............###...#...#.....#.#.#.#...#.#.#.#...#.#.#...#.#...#...#...#.......#.#.#...#.###.......#.#.#.#.#.#.#.#.#.....#.#...#.#.#
#.#####.#############.###.#.###.#.#####.#.#.#.#.#.#.#.###.#.#.#.###.#.###.#.#.###########.#.#.###.###v#######.#.#.#.#.#.#.#.#####.#.###v#.#.#
#.#...#.#.............#...#.....#.....#...#.#.#.#.#...#...#...#.....#...#.#.#.......#...#.#.#...#.#.>.>...#...#.#.#.#.#.#.#...#...#...>.#.#.#
#.#.#.#.#.#############.#############.#####.#.#.#.#####.###############.#.#.#######.#.#.#.#.###.#.#.#v###.#.###.#.#.#.#.#.###.#.#######v#.#.#
#...#...#...........###.......#...#...#...#...#.#.#.....#...###.........#.#.###...#.#.#.#.#.#...#...#...#.#.###...#.#.#...###...###...#...#.#
###################v#########.#.#.#.###.#.#####.#.#.#####.#.###.#########.#.###.#.#v#.#.#.#.#.#########.#.#.#######.#.#############.#.#####.#
#.................#.>.#...#...#.#.#.....#...###...#.....#.#...#.........#.#.....#.>.>.#.#.#.#.......###.#...#...#...#...#...#...#...#.#...#.#
#.###############.#v#.#.#.#.###.#.#########.###########.#.###.#########.#.#########v###.#.#.#######.###.#####.#.#.#####.#.#.#.#.#.###.#.#.#.#
#.......#.......#...#...#.#.#...#.....#.....#...#.......#...#...#.....#.#.#.........#...#.#.#.....#.#...#...#.#.#...#...#.#.#.#.#...#.#.#...#
#######.#.#####.#########.#.#.#######.#.#####.#.#.#########.###.#.###.#.#.#.#########.###.#.#.###.#.#.###.#.#.#.###.#.###.#.#.#.###.#.#.#####
#.......#.#.....#.......#.#.#...#...#...#####.#.#...........###...#...#.#.#...#.....#...#.#.#...#...#...#.#.#.#...#.#.#...#...#.....#.#.....#
#.#######.#.#####.#####.#.#.###.#.#.#########.#.###################.###.#.###.#.###.###.#.#.###.#######.#.#.#.###.#.#.#.#############.#####.#
#...#.....#.......#.....#.#.#...#.#...........#.....#...............###...###...###...#.#.#.....#...###...#...#...#...#.#...#.......#.#...#.#
###.#.#############.#####.#.#.###.#################.#.###############################.#.#.#######.#.###########.#######.#.#.#.#####.#.#.#.#.#
#...#.#.............#...#...#...#.#...#.....#.......#.......................###.......#.#.#.....#.#.#####.......#...###...#.#.#.....#...#.#.#
#.###.#.#############.#.#######.#.#.#.#.###.#.#############################.###.#######.#.#.###.#.#.#####.#######.#.#######.#.#.#########.#.#
#.....#...............#...#...#...#.#...###...#...#...#...#.................#...#...###...#.#...#.#.#.....#...###.#.###...#...#.........#.#.#
#########################.#.#.#####.###########.#.#.#.#.#.#.#################.###.#.#######.#.###.#.#.#####.#.###.#.###.#.#############.#.#.#
###...###...#.............#.#.#...#.......#...#.#.#.#...#.#.................#...#.#...###...#...#.#.#.....#.#.#...#.....#.#.............#.#.#
###.#.###.#.#.#############.#.#.#.#######.#.#.#.#.#.#####.#################.###.#.###.###.#####.#.#.#####.#.#.#.#########.#.#############.#.#
#...#.....#...#.......#...#.#...#.........#.#.#.#.#.....#.#...###...........###...###...#.....#.#.#.#...#...#...#.........#.............#.#.#
#.#############.#####.#.#.#.###############.#.#.#.#####.#.#.#.###v#####################.#####.#.#.#.#.#.#########v#####################.#.#.#
#.........#...#.#.....#.#.#.#...#.........#.#.#.#...#...#.#.#...>.>.###...###...#...###.#...#.#.#.#.#.#...#...#.>.>.......#.............#...#
#########.#.#.#.#.#####.#.#.#.#.#.#######.#.#.#.###.#.###.#.#####v#.###.#.###.#.#.#.###v#.#.#.#.#.#.#.###.#.#.#.#v#######.#.#################
#...#...#...#...#...###.#.#...#.#.#.......#.#.#.###...###...#...#.#.#...#...#.#.#.#.#.>.>.#...#.#.#.#...#.#.#...#.#.......#.........###.....#
#.#.#.#.###########v###.#.#####.#.#.#######.#.#.#############.#.#.#.#.#####.#.#.#.#.#.#v#######.#.#.###.#.#.#####.#.###############.###.###.#
#.#.#.#...###...###.>...#...###...#.#...#...#.#...#...#...#...#.#.#.#.....#...#...#...#.....#...#.#.#...#...#...#.#.#...###...#...#...#.#...#
#.#.#.###.###.#.###v#######.#######.#.#.#.###.###.#.#.#.#.#.###.#.#.#####.#################.#.###.#.#.#######.#.#.#.#.#.###.#.#.#.###.#.#.###
#.#.#...#.#...#.#...#.......#...###.#.#.#.#...#...#.#...#...#...#.#.#...#.#...........#...#.#.....#.#.#.......#.#.#.#.#...#.#.#.#.....#.#.###
#.#.###.#.#.###.#.###.#######.#.###v#.#.#.#.###.###.#########.###.#.#.#.#.#.#########.#.#.#.#######.#.#.#######.#.#.#.###.#.#.#v#######.#.###
#.#.#...#.#...#.#...#...#.....#...>.>.#.#.#.....###.........#...#.#...#...#.........#...#.#.......#.#.#.#.....#...#...###.#.#.>.#.......#...#
#.#.#.###.###.#.###.###.#.#########v###.#.#################.###.#.#################.#####.#######.#.#.#.#.###.###########.#.###v#.#########.#
#.#.#...#.#...#.....###.#.#.......#...#.#.....#...........#...#.#...#.........#...#.....#.#.......#...#...###...#...#...#.#.###...#.........#
#.#.###.#.#.###########.#.#.#####.###.#.#####.#.#########.###.#.###.#.#######.#.#.#####.#.#.###################.#.#.#.#.#.#.#######.#########
#.#.....#.#...........#...#...###.....#...#...#.........#.#...#.....#.......#...#...#...#.#.......#...#.....###...#...#.#.#.#.......###.....#
#.#######.###########.#######.###########.#.###########.#.#.###############.#######.#.###.#######.#.#.#.###.###########.#.#.#.#########.###.#
#...#...#...#.........#.......#...###...#.#.#...#.......#...#...###.....###.......#.#...#.#...#...#.#...#...#.......#...#.#.#.....#...#.#...#
###.#.#.###.#.#########.#######.#.###.#.#.#.#.#.#.###########.#.###.###.#########.#.###.#.#.#.#.###.#####.###.#####.#.###.#.#####.#.#.#.#.###
###...#...#...#...#...#.........#.#...#.#...#.#.#.............#...#...#.#.........#.....#...#...###.....#.....#...#.#...#...#...#...#...#...#
#########v#####.#.#.#.###########.#.###.#####.#.#################.###.#.#.#############################.#######.#.#.###.#####.#.###########.#
#.......#.>.#...#.#.#.#...........#...#.#...#.#.#...#.............#...#.#...........#.....#.....###...#.........#.#...#.#.....#...#...#.....#
#.#####.#v#.#.###.#.#.#.#############.#.#.#.#.#.#.#.#.#############.###.###########.#.###.#.###.###.#.###########.###.#.#.#######.#.#.#.#####
#.....#...#.#.#...#.#.#.........#...#.#.#.#.#.#.#.#.#.........#...#.#...#####.......#...#.#.#...#...#.#.........#...#...#.....###...#.#.....#
#####.#####.#.#.###.#.#########.#.#.#.#.#.#.#.#.#.#.#########.#.#.#.#.#######.#########.#.#.#.###.###.#.#######.###.#########.#######.#####.#
#.....#...#...#...#.#.###.......#.#.#.#.#.#.#.#.#.#.#.........#.#.#.#...#.....#...#...#.#.#.#.###...#.#.......#...#...###...#.......#.#...#.#
#.#####.#.#######.#.#.###.#######.#.#.#.#.#.#.#.#.#.#v#########.#.#.###.#.#####.#.#.#.#.#.#.#.#####.#.#######.###.###.###.#.#######.#.#.#.#.#
#.......#.#.....#...#...#.....###.#.#.#.#.#.#.#.#.#.>.>.....#...#.#...#.#.......#.#.#.#.#.#.#...#...#.#...#...###.....#...#.#.......#...#.#.#
#########.#.###.#######.#####.###.#.#.#.#.#.#.#.#.###v#####.#.###.###.#.#########.#.#.#.#.#.###.#.###.#.#.#.###########.###.#.###########.#.#
#...#...#.#...#.........###...#...#.#.#.#.#.#.#...###...#...#...#.###.#.#...#.....#.#.#.#.#.#...#...#.#.#.#.###...#...#...#.#.....#...###...#
#.#.#.#.#.###.#############.###.###.#.#.#.#.#.#########.#.#####.#.###.#.#.#.#v#####.#.#.#.#.#.#####.#.#.#.#v###.#.#.#.###.#.#####.#.#.#######
#.#...#.#...#.#...#...#...#...#...#.#.#...#.#.#.........#.....#.#...#.#.#.#.>.>.#...#.#.#.#.#.#...#.#.#.#.>.>.#.#.#.#.###.#.#.....#.#.......#
#.#####.###.#.#.#.#.#.#.#.###v###.#.#.#####.#.#.#############.#.###.#.#.#.###v#.#.###.#.#.#.#.#.#.#.#.#.###v#.#.#.#.#.###.#.#v#####.#######.#
#.....#.....#...#.#.#.#.#.#.>.>...#.#...###...#.............#.#.###.#.#...#...#.#.###.#.#.#.#.#.#...#...#...#.#.#.#.#.#...#.>.###...#.......#
#####.###########.#.#.#.#.#.#v#####.###.###################.#.#.###.#.#####.###.#.###.#.#.#.#.#.#########.###.#.#.#.#.#.#####v###.###.#######
#...#.....#.....#.#.#.#.#...#.....#.....#...#...............#...###...#...#.###...#...#.#...#...###...#...###.#.#.#.#.#.#.....###.#...###...#
#.#.#####.#.###.#.#.#.#.#########.#######.#.#.#########################.#.#.#######.###.###########.#.#.#####.#.#.#.#.#.#.#######.#.#####.#.#
#.#.......#.#...#.#.#.#.#.........#.......#.#...........###...#.........#.#.......#.#...#...........#...#...#.#.#.#.#...#...#...#.#.#...#.#.#
#.#########.#.###.#.#.#.#.#########.#######.###########.###.#.#.#########.#######.#.#.###.###############.#.#.#.#.#.#######.#.#.#.#.#.#.#.#.#
#...........#.###...#...#...........#...#...###.......#.....#.#.........#.........#...###.................#.#.#.#.#...#...#...#...#...#...#.#
#############.#######################.#.#.#####.#####.#######.#########.###################################.#.#.#.###.#.#.#################.#
#.......#...#...#...................#.#...#...#.....#.....#...#.....#...#.......#.....#...#.................#.#.#.....#.#.......#...#.....#.#
#.#####.#.#.###.#.#################.#.#####.#.#####.#####.#.###.###.#.###.#####.#.###.#.#.#.#################.#.#######.#######.#.#.#.###.#.#
#.....#...#.....#.....#.....#.....#.#...###.#.#####.....#...###...#.#.....#.....#.#...#.#.#.....#.........###...###...#...#...#.#.#...###...#
#####.###############.#.###.#.###.#.###.###.#.#########.#########.#.#######.#####.#.###.#.#####.#.#######.#########.#.###.#.#.#.#.###########
#.....#.............#.#.#...#.#...#.....#...#...#...###.......#...#.###...#.......#.....#.....#...###.....#.....#...#.###...#.#.#...........#
#.#####.###########.#.#.#.###.#.#########.#####.#.#.#########.#.###.###.#.###################.#######.#####.###.#.###.#######.#.###########.#
#...#...#...........#...#.....#.......#...#.....#.#...........#...#...#.#.......#.............#.....#.....#.#...#.#...#...#...#.............#
###.#.###.###########################.#.###.#####.###############.###.#.#######.#.#############.###.#####.#.#.###.#.###.#.#.#################
#...#.#...#.......#...###.............#...#...#...#.........#...#.#...#.......#.#.....###.....#...#.......#.#.....#.###.#.#...#.........#...#
#.###.#.###.#####.#.#.###.###############.###.#.###.#######.#.#.#.#.#########.#.#####.###.###.###.#########.#######.###.#.###.#.#######.#.#.#
#.....#...#.#.....#.#...#.......###...###...#.#.....###.....#.#.#.#.#...###...#.......#...#...###.........#.#.....#...#.#...#...#.....#...#.#
#########.#.#.#####.###.#######.###.#.#####.#.#########v#####.#.#.#.#.#.###v###########.###.#############.#.#.###.###.#.###.#####.###.#####.#
#.........#.#...###...#.#...#...#...#...#...#.#...#...>.>.#...#.#.#.#.#.#.>.>.#...#...#.#...#...###.......#.#...#.....#.#...#.....###.......#
#.#########.###.#####.#.#.#.#.###.#####.#.###.#.#.#.#####.#.###.#.#.#.#.#.###.#.#.#.#.#.#.###.#.###.#######.###.#######.#.###.###############
#.#...#...#.###...###.#.#.#.#...#.....#.#...#.#.#.#...###.#...#.#.#.#.#.#.###...#.#.#.#.#...#.#...#.....###...#.#.....#.#...#.........###...#
#.#.#.#.#.#.#####.###.#.#.#.###v#####.#.###.#.#.#.###.###.###.#.#.#.#.#.#.#######.#.#.#.###.#.###.#####.#####.#.#.###.#.###.#########.###.#.#
#.#.#.#.#.#...###...#.#.#.#.#.>.>...#.#...#.#.#.#.#...#...#...#.#.#...#.#.#...#...#.#.#.#...#.#...#...#.#...#.#.#.#...#.#...#...#...#.#...#.#
#.#.#.#.#.###.#####.#.#.#.#.#.#####.#.###.#.#.#.#.#.###.###.###.#.#####.#.#.#.#.###.#.#.#.###.#.###.#.#v#.#.#.#.#.#.###.#.###.#.#v#.#.#.###.#
#.#.#.#.#...#.#.....#.#.#.#.#.....#.#.#...#.#.#.#.#.###...#.###.#.#.....#.#.#...#...#.#.#...#.#...#.#.>.>.#.#.#.#.#...#.#.#...#.>.#...#...#.#
#.#.#.#.###.#.#.#####.#.#.#.#####.#.#.#.###.#.#.#.#.#####.#.###.#.#.#####.#.#####.###.#.###.#.###.#.#######.#.#.#.###.#.#.#.#####v#######.#.#
#...#...###...#.......#...#.......#...#.....#...#...#####...###...#.......#.......###...###...###...#######...#...###...#...#####.........#.#
###########################################################################################################################################.#
"""
